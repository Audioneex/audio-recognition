
Windows & Linux Example Programs
================================

This directory contains source code that compiles on both
Windows and Linux platforms using the CMake build system.
To build the programs, execute CMake within a build folder
(e.g. /winux/build) using command line options according
to the target platform, architecture, toolchain, etc.
The apps depend on some external libraries, so it has some
settings that depend on how you have them installed on your
system (include and lib paths). These settings can be changed
in the "User Config" section of the CMakeLists file.

1. The database drivers need the Tokyo Cabinet store, so you
   have to download, build and install it. The headers should
   go into a 'tcabinet' folder somewhere in your include path.
   On some Linux distros it's already installed by default.
   On Windows you can use libejdb, a port by the EJDB project.
   Then set the include and lib paths in the "User Config".

2. The Boost library is also required. From version 1.55 it
   should work fine, if not just download the latest version
   (currently 1.66.0 with which it's been tested). Then you
   can either set the BOOST_ROOT environment variable to the
   folder where you installed and compiled it or, if you have
   installed includes and libraries somewhere else, specify the
   paths in the "User Config" section of CMakeLists. The demo
   apps only need the filesystem, system, thread, chrono and
   regex, so you can compile just those Boost modules.

3. [Optional] If you need to extract the metadata from the 
   audio files (probably you do) then TagLib is required.
   Again, get it, build and install it, then set the required
   paths in the "User Config" section.

If other include or lib paths need to be specified, add them in
"User Config". After everything is set properly, just issue
the following commands

$ cmake -DDATASTORE_T=TCDataStore [options] ..
$ make

on Windows it would be

> cmake -G "NMake Makefiles" -DDATASTORE_T=TCDataStore [options] ..
> nmake

where options can be

ARCH=x64|x32           - The target architecture
TOOLCHAIN=gccXX|vcXX   - Supported compiler (gcc72, vc141, etc.)
DEBUG                  - Debug build (default is Release)
ID3_TAG_SUPPORT        - Whether to include audio metadata support

Make sure that the architecture and compiler match with your
system. By default the build targets 64-bit architectures and
GCC 7 (VC 14.1 on Windows). You can change it by using build
switches -D<option> passed to CMake on the command line.

And lastly, the apps need the FFmpeg decoder in order to read the
audio data from the input file/device, so make sure it's present
in your search PATH.

